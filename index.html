<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex" />
  <meta name="theme-color" content="#ffffff">
  <link rel="stylesheet" href="https://smart-contact-cdn.livelanding.it/font/gotham.css">
  <link rel="icon" type="image/png" sizes="32x32"
    href="https://smart-contact-cdn.livelanding.it/images/favicon-{{ account }}.png">
  <title>Offerte Tiscali</title>
  <!--
     
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-677013195"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'AW-677013195');
      function gtag_report_conversion(url){
          gtag('event', 'conversion', {
            'send_to': 'AW-677013195/HR5fCMbKosMBEMvN6cIC',
            'event_callback': function(){
              if(url) window.location = url
            }
          });
          return false;
        }
  </script>

 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-43040245-38"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-43040245-38');
  </script>

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KMVNGQ7');</script>

<script type="text/javascript" src="https://casa.tiscali.it/inc/script/webtrekk/webtrekk_v4.min.js"></script>

    
<script type="text/javascript">

   function getContentIdByURL() {
      try {
         var url = document.location.href;
         var anchor_value = '';
         var split_anchors = '';
         if (url && url !== null) {
            split_anchors = url.split("#");
            if (split_anchors && split_anchors !== null)
               if (split_anchors.length > 1)
                  anchor_value = '#' + url.split("#")[1].toLowerCase();
            url = url.split("#")[0].toLowerCase();
            return url.split("?")[0].toLowerCase() + anchor_value;
         }
         return "no_content";
      } catch (err) {
         console.log('WTK - an error was encountered while cleaning up the URL, tracking document.location.href instead.\n' + err);
         return document.location.href;
      }
   }
   var pageConfig = {
      linkTrack: "",
      heatmap: "",
      form: "",
      contentId: getContentIdByURL()
   };
   /* Account 630058339171838 */
   var wt = new webtrekkV3(pageConfig);
   wt.contentGroup = {
      1: "Abbonati"
   };
   wt.customParameter = {
      1: document.title,
      3: "Casa",
      4: window.location.href,
      14: (function(cookie){return (cookie ? cookie[2] : 0);}(document.cookie.match(/(;|\s|\b)nome_contenuto=(\d)+/))),
   };
   
   /* HP TEST */
      wt.customSessionParameter = { 
    2: ""
   }; 
    
   
      wt.sendinfo();
      /* Account 245406294797569 */
      var wtEdit = new webtrekkV3(pageConfig);
      wtEdit.trackId = "245406294797569";
      wtEdit.contentGroup = {
         1: "TISCALI.IT",
         2: "TISCALI ABBONAMENTI",
         3: "TISCALI ABBONAMENTI - CASA"
      };
      
      wtEdit.customParameter = {
      10 : "false", 
      11 : "false" 
};
      wtEdit.sendinfo();

</script> -->
</head>

<body>
  <!-- Google Tag Manager (noscript) 
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KMVNGQ7"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  End Google Tag Manager (noscript) -->

  <div id="app"></div>

  <script>
    window.$landingConfig = {
      config: {
        params() {
          return {
            //functional
            // collection: { value: '{{ collection }}', default: '' },
            products: { value: '{{ products }}', default: '1,3', parser: value => JSON.parse('[' + value + ']') },
            sap: { value: '{{ sap }}', default: '' },
            successURL: '{{ successURL }}',
            useRecaptcha: { value: '{{ useRecaptcha }}', default: "0", parser: value => !!Number(value) },
            collapseToggleText: '{{ collapseToggleText }}',
            account: { value: '{{ account }}', default: 'tiscali' },
            logoAccount: { value: '{{ accountLogo }}', default: 'logo/logo-tiscali.png' },
            logoAccountMobile: { value: '{{ accountLogoMobile }}', default: 'logo/logo-tiscali.png' },

            //copy
            copyTitle: `{{ copyTitle }}`,
            copySubtitle: `{{ copySubtitle }}`,
            copyFooter: `{{ copyFooter }}`,

            //privacy
            "copyPrivacy": { value: `{{ copyPrivacy }}`, default: `Letta <a target="_blank" href="https://casa.tiscali.it/comunicazioni/informativa_privacy.html">l'informativa privacy </a>ai sensi del D.lgs.196/03 e del Regolamento (UE) 679/2016 (GDPR) cliccando su "invia" do il consenso al trattamento dei dati personali per essere ricontattato al fine di ottenere informazioni commerciali in merito al presente servizio di Tiscali.` },

            //tracking
            gclid: this.url.searchParams.get('gclid'),
            f5: { value: this.url.searchParams.get('f5') || '{{ f5 }}', default: 'sem' },
            f11: { value: this.url.searchParams.get('f11') || '{{ f11 }}', default: '0' },
            f12: { value: this.url.searchParams.get('keyword') || '0' },
            f13: { value: this.url.searchParams.get('matchtype') || '0' },
            f14: { value: this.url.searchParams.get('creative') || '0' },
            f15: { value: this.url.searchParams.get('f15') || '{{ f15 }}', default: '0' },
            f18: { value: this.url.searchParams.get('f18') || '{{ f18 }}', default: '0' },
            retailerCode: { value: '{{ retailerCode }}', default: 'DM21057A00000' },
          }
        },

        data() {
          return {
            url_landing: this.url.toString(),
            utm_source: this.url.searchParams.get('utm_source') || '0',
            utm_medium: this.url.searchParams.get('utm_medium') || '0',
            utm_campaign: this.url.searchParams.get('utm_campaign') || '0',
            utm_content: this.url.searchParams.get('utm_content') || '0',
            //utm_term: this.url.searchParams.get('utm_term') || '0',
            privacy_1: 1,
            buyer: 'Tiscali',
            name: 'Tiscali',
            category: this.params.get('f5'),
            surname: this.params.get('f5'),
            partnerName: '{{ partnerName }}',
            prod: '{{ prod }}'
          }
        },

        injection: {
          sourceOptions: {
            id: '{{ smartBridgeSourceID }}'
          }
        }
      },
      options: {},
      afterInit(landing) {
        landing.mapParamsToData([
          'sap',
          'gclid as idorigine',
          'f5', 'f11', 'f12', 'f13', 'f14', 'f15', 'f18',
          'retailerCode as retailer_code',
          'partnerName as partner_name',
          'f5 as distribution_code',
          'prod'
        ]);

        const cookiesOptions = {
          expires: 15,
          // domain: '.verificalacopertura.it'
        };
        landing.cookies.set('session.Distribution', landing.params.get('f5'), cookiesOptions);
        landing.cookies.set('session.PARTNER_NAME', landing.params.get('partnerName'), cookiesOptions);
        landing.cookies.set('session.RetailerCode', landing.params.get('retailerCode'), cookiesOptions);
        landing.cookies.set('sap', landing.params.get('sap'), cookiesOptions)
      }
    };


    function setSuccessURLParams(landing) {
      if (landing.params.get('successURL')) {
        const url = new URL(landing.params.get('successURL'), location.origin);

        //inserire qui la mappatura dei parametri della landing sull'url
        const paramsMap = {
          prov: landing.params.get('f5'),
          f11: landing.params.get('f11'),
          f12: landing.params.get('f12'),
          f13: landing.params.get('f13'),
          f14: landing.params.get('f14'),
          f15: landing.params.get('f15'),
        };

        Object.entries(paramsMap).forEach(([key, value]) => {
          if (value !== undefined && value !== '') {
            url.searchParams.append(key, value)
          }
        });

        landing.params.set('successURL', url.toString());
      }
    }
  </script>

  <script type="module" src="/src/main.js"></script>
</body>

</html>